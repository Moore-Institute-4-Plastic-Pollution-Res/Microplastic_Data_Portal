name,description,dataset,valid_example,severity,rule
methodology_MethodologyID_fk,Online identifier for methodology needs to be a foreign key,methodology,https://www.waterboards.ca.gov/drinking_water/certlic/drinkingwater/documents/microplastics/mcrplsts_plcy_drft.pdf,error,is_foreign_key(MethodologyID)
methodology_MethodologyID,Online identifier for methodology,methodology,https://www.waterboards.ca.gov/drinking_water/certlic/drinkingwater/documents/microplastics/mcrplsts_plcy_drft.pdf,error,is_unique(MethodologyID) & !is.na(MethodologyID)
SamplingDevice,Device used to collect sample and dimensions,methodology,10 L Glass Jar,error,!is.na(SamplingDevice)
AirFiltration,Is there HEPA air filtration system in the lab?,methodology,Yes,error,"AirFiltration %in% c(""Yes"", ""No"")"
AirFiltrationType,What is the type of HEPA air filtration system in the lab?,methodology,"Honeywell 10500 (EV-10) 17000 17005 Air Purifiers, Part Number 20500",error,is.na(AirFiltrationType) | !is.na(AirFiltrationType)
ClothingPolicy,Is synthetic clothing restricted from the lab?,methodology,Yes,error,"ClothingPolicy  %in% c(""Yes"", ""No"")"
NonplasticPolicy,Are synthetic materials restricted from contacting the sample?,methodology,Yes,error,"NonplasticPolicy  %in% c(""Yes"", ""No"")"
SealedEnvironment,Is a sealed environment used to minimize contamination?,methodology,No,error,"SealedEnvironment  %in% c(""Yes"", ""No"")"
SealedEnvironmentType,Type of sealed environment used?,methodology,Glove Box,error,is.na(SealedEnvironmentType) | !is.na(SealedEnvironmentType)
SieveMeshSizes,Mesh sizes of seives used (um),methodology,"50, 300, 1000",error,!is.na(SieveMeshSizes)
FilterType,Filter material type,methodology,gold coated polycarbonate,error,!is.na(FilterType)
FilterDiameter_blank,Diameter of filter in mm must not be blank,methodology,45,error,!is.na(FilterDiameter)
FilterDiameter,Diameter of filter in mm,methodology,45,error,"in_range(as.numeric(FilterDiameter), min =  5,  max =  100)"
FilterPoreSize_blank,Filter pore size in um,methodology,10,error,!is.na(FilterPoreSize)
FilterPoreSize,Filter pore size in um,methodology,10,error,"in_range(as.numeric(FilterPoreSize), min = 1, max = 100)"
VisIDMethod,Visual confirmation methods used e.g. visual microscopy SEM,methodology,Visual Microscopy,error,"VisIDMethod %in% c(""Visual Microscopy"", ""SEM"")"
VisualSoftware,Software used for visual analysis,methodology,Image J,error,!is.na(VisualSoftware)
PickingStrategy,Picked wet or picked dry,methodology,Dry,error,"PickingStrategy %in% c(""Dry"", ""Wet"")"
VisMagnification,Magnification of the microscope during the visual image in times e.g. 40,methodology,10,error,"in_range(as.numeric(VisMagnification), min = 1, max = 1000)"
MatIDMethod,"Material identification method e.g. pygcms, raman, ftir",methodology,FTIR,error,"MatIDMethod %in% c(""FTIR"", ""Raman"", ""PyGCMS"")"
MatIDSoftware,Material ID software used,methodology,Open Specy,error,!is.na(MatIDSoftware)
ParticleID_blank,Unique ID for each particle cannot be blank,particles,1_23jreh334,error,!is.na(ParticleID)
ParticleID,Unique ID for each particle must be unique,particles,1_23jreh334,error,is_unique(ParticleID)
particle_methodologyID_fk,Online identifier for methodology needs to be a foreign key,particles,https://www.waterboards.ca.gov/drinking_water/certlic/drinkingwater/documents/microplastics/mcrplsts_plcy_drft.pdf,error,is_foreign_key(MethodologyID)
particle_MethodologyID_blank,Online identifier for methodology cannot be blank,particles,https://www.waterboards.ca.gov/drinking_water/certlic/drinkingwater/documents/microplastics/mcrplsts_plcy_drft.pdf,error,!is.na(MethodologyID)
particle_MethodologyID_doc,Online identifier for methodology must end with .pdf,particles,https://www.waterboards.ca.gov/drinking_water/certlic/drinkingwater/documents/microplastics/mcrplsts_plcy_drft.pdf,error,"grepl(""\\.pdf$"", MethodologyID, ignore.case = TRUE)"
particle_MethodologyID_url,"Online identifier for methodology must be a url address beginning with ftp, http, https, or www. ",particles,https://www.waterboards.ca.gov/drinking_water/certlic/drinkingwater/documents/microplastics/mcrplsts_plcy_drft.pdf,error,"grepl(""^ftp|^http|^https|^www"", MethodologyID, ignore.case = TRUE)"
particle_SampleID_fk,Unique ID for sample needs to be a foreign key,particles,23jreh334,error,is_foreign_key(SampleID)
particle_SampleID,Unique ID for sample,particles,23jreh334,error,!is.na(SampleID)
PhotoID,URL address for photo of particle,particles,https://doc-00-7k-docs.googleusercontent.com/docs/securesc/kkkvndiqs416g5o4kra540qkfd8fc4ql/aqpgak0vhec59odem1r18l4vkc0ghtgm/1672932075000/06785475539150725270/01733808759481835310/1uWtmgq-kAkWIFg1CtmSlrFXvaNaiB07p?e=view&ax=ALjR8szmrYQf02Bshvbw9oDjP01GEQ9uwZ6YayML-2_E_QvSmEpLKmRs-P1yB2n0TQXNvNJrXFzbRasuzpXpcbX3PRTmuxdJSE-h1ENXe6e5zerA30UkGC765qjz9bCzGfST15mWQ9GnnH8G8s2CkQdnAKEBWEJZJ5yC02rR1w7AJ5adMjfkHaFB6R3fXTpuGZtrPJXHltbIOQWfau0KrTu1ib7DK7T7dNDEJRAfk51COGW60UqU4PuNvmp3qVm_EFP8VUZQbosrWjVF8n3_28jqet80anihFDtx8oVBdph885ppyEz14smsnwlFpVJ7n0ifZKV_vvhJat9T-Hj6Xx91a3cwu4nw6DrGtu1jbhCsPzNdT-5z7A3bB7YI1JQYHOJpgyzQtdXVJVFCh4sIf9NkD-XP6fIR9wuukSLcEx0wxf-UjpRCZClXGgvaUUVHEqfioz7FJ8MGVx1gxY29-X0xtFlFGVifGRPIOekZAfbDBMAAeyHb3bZm5Dm6KltWP-W-qtA6v6MQGDcGJEZfYbCdkuaqzxo_S2jaUCCaBud5ePDW9Ho0yoN1uT3VGshwGgV_L8evWNnBdj23QHrGUxXcJD64XzFwCLkD1BjeZkTMfeW-cwbcd3eTO3YDK0eHUpWQt75JzL1s7xPRXZwH2mt8jetKV5lN-8JJcXLk_xIg9VSDlPD6PXfKC5jy2j62-Hajpae3NWvvmRc6F9KZq_MaChjUXWOrw-nAuk8gfoA_UPBjnDKB4T7RtQ6fCuCAUOQtobnmMc9wR22NF2f6-hYSp2b8d144Adbwo0i3gyN6v5GvQ7EApjxfFl79jAGH1YINKdrdHa9_1aMKbTYol18w9-5iwElK5EV0az3_EIeYfb3S1uQ2zZZl9NITwnicnEetwanEw-fm8MU-o5iOs5a46eX-0lS5lp1SG9KVLIzWNhMjTEODT0HfSRYb5sXm328qfcs_05Pc&uuid=3389bb84-d83f-494d-8c98-00a32b8c7f31&authuser=0,error,"grepl(""(\\.jpg$)|(\\.png$)"", PhotoID, ignore.case = TRUE) "
PhotoID_madatory,URL address for photo of particle is mandatory and cannot be blank,particles,https://doc-00-7k-docs.googleusercontent.com/docs/securesc/kkkvndiqs416g5o4kra540qkfd8fc4ql/aqpgak0vhec59odem1r18l4vkc0ghtgm/1672932075000/06785475539150725270/01733808759481835310/1uWtmgq-kAkWIFg1CtmSlrFXvaNaiB07p?e=view&ax=ALjR8szmrYQf02Bshvbw9oDjP01GEQ9uwZ6YayML-2_E_QvSmEpLKmRs-P1yB2n0TQXNvNJrXFzbRasuzpXpcbX3PRTmuxdJSE-h1ENXe6e5zerA30UkGC765qjz9bCzGfST15mWQ9GnnH8G8s2CkQdnAKEBWEJZJ5yC02rR1w7AJ5adMjfkHaFB6R3fXTpuGZtrPJXHltbIOQWfau0KrTu1ib7DK7T7dNDEJRAfk51COGW60UqU4PuNvmp3qVm_EFP8VUZQbosrWjVF8n3_28jqet80anihFDtx8oVBdph885ppyEz14smsnwlFpVJ7n0ifZKV_vvhJat9T-Hj6Xx91a3cwu4nw6DrGtu1jbhCsPzNdT-5z7A3bB7YI1JQYHOJpgyzQtdXVJVFCh4sIf9NkD-XP6fIR9wuukSLcEx0wxf-UjpRCZClXGgvaUUVHEqfioz7FJ8MGVx1gxY29-X0xtFlFGVifGRPIOekZAfbDBMAAeyHb3bZm5Dm6KltWP-W-qtA6v6MQGDcGJEZfYbCdkuaqzxo_S2jaUCCaBud5ePDW9Ho0yoN1uT3VGshwGgV_L8evWNnBdj23QHrGUxXcJD64XzFwCLkD1BjeZkTMfeW-cwbcd3eTO3YDK0eHUpWQt75JzL1s7xPRXZwH2mt8jetKV5lN-8JJcXLk_xIg9VSDlPD6PXfKC5jy2j62-Hajpae3NWvvmRc6F9KZq_MaChjUXWOrw-nAuk8gfoA_UPBjnDKB4T7RtQ6fCuCAUOQtobnmMc9wR22NF2f6-hYSp2b8d144Adbwo0i3gyN6v5GvQ7EApjxfFl79jAGH1YINKdrdHa9_1aMKbTYol18w9-5iwElK5EV0az3_EIeYfb3S1uQ2zZZl9NITwnicnEetwanEw-fm8MU-o5iOs5a46eX-0lS5lp1SG9KVLIzWNhMjTEODT0HfSRYb5sXm328qfcs_05Pc&uuid=3389bb84-d83f-494d-8c98-00a32b8c7f31&authuser=0,error,!is.na(PhotoID)
PhotoID_url,"URL address for photo of particle must start with ftp, http, https, or www. ",particles,https://doc-00-7k-docs.googleusercontent.com/docs/securesc/kkkvndiqs416g5o4kra540qkfd8fc4ql/aqpgak0vhec59odem1r18l4vkc0ghtgm/1672932075000/06785475539150725270/01733808759481835310/1uWtmgq-kAkWIFg1CtmSlrFXvaNaiB07p?e=view&ax=ALjR8szmrYQf02Bshvbw9oDjP01GEQ9uwZ6YayML-2_E_QvSmEpLKmRs-P1yB2n0TQXNvNJrXFzbRasuzpXpcbX3PRTmuxdJSE-h1ENXe6e5zerA30UkGC765qjz9bCzGfST15mWQ9GnnH8G8s2CkQdnAKEBWEJZJ5yC02rR1w7AJ5adMjfkHaFB6R3fXTpuGZtrPJXHltbIOQWfau0KrTu1ib7DK7T7dNDEJRAfk51COGW60UqU4PuNvmp3qVm_EFP8VUZQbosrWjVF8n3_28jqet80anihFDtx8oVBdph885ppyEz14smsnwlFpVJ7n0ifZKV_vvhJat9T-Hj6Xx91a3cwu4nw6DrGtu1jbhCsPzNdT-5z7A3bB7YI1JQYHOJpgyzQtdXVJVFCh4sIf9NkD-XP6fIR9wuukSLcEx0wxf-UjpRCZClXGgvaUUVHEqfioz7FJ8MGVx1gxY29-X0xtFlFGVifGRPIOekZAfbDBMAAeyHb3bZm5Dm6KltWP-W-qtA6v6MQGDcGJEZfYbCdkuaqzxo_S2jaUCCaBud5ePDW9Ho0yoN1uT3VGshwGgV_L8evWNnBdj23QHrGUxXcJD64XzFwCLkD1BjeZkTMfeW-cwbcd3eTO3YDK0eHUpWQt75JzL1s7xPRXZwH2mt8jetKV5lN-8JJcXLk_xIg9VSDlPD6PXfKC5jy2j62-Hajpae3NWvvmRc6F9KZq_MaChjUXWOrw-nAuk8gfoA_UPBjnDKB4T7RtQ6fCuCAUOQtobnmMc9wR22NF2f6-hYSp2b8d144Adbwo0i3gyN6v5GvQ7EApjxfFl79jAGH1YINKdrdHa9_1aMKbTYol18w9-5iwElK5EV0az3_EIeYfb3S1uQ2zZZl9NITwnicnEetwanEw-fm8MU-o5iOs5a46eX-0lS5lp1SG9KVLIzWNhMjTEODT0HfSRYb5sXm328qfcs_05Pc&uuid=3389bb84-d83f-494d-8c98-00a32b8c7f31&authuser=0,error,"grepl(""^ftp|^http|^https|^www"", PhotoID, ignore.case = TRUE)"
SpectraID_madatory,URL address for spectra of particle is mandatory and cannot be blank. ,particles,https://github.com/wincowgerDEV/OpenSpecy-package/blob/main/inst/extdata/fitr_nitrocellulose.jdx,error,!is.na(SpectraID)
SpectraID_doc,"URL address for spectra of particle must link to a document with type csv, asp, spa, spc, jdx, rds, qs, json, yaml, zip, or 0-9",particles,https://github.com/wincowgerDEV/OpenSpecy-package/blob/main/inst/extdata/fitr_nitrocellulose.jdx,error,"grepl(""(\\.csv$)|(\\.asp$)|(\\.spa$)|(\\.spc$)|(\\.jdx$)|(\\.rds$)|(\\.qs$)|(\\.json$)|(\\.yaml$)|(\\.zip$)|(\\.[0-999]$)"", SpectraID, ignore.case = TRUE)"
SpectraID_web,"URL address for spectra of particle must start with ftp, http, https, or www.",particles,https://github.com/wincowgerDEV/OpenSpecy-package/blob/main/inst/extdata/fitr_nitrocellulose.jdx,error,"grepl(""^ftp|^http|^https|^www"", SpectraID, ignore.case = TRUE)"
FinalAnalysisDate,The date the analysis for the particle was finalized. ,particles,2/10/2023,error,"!is.na(FinalAnalysisDate) & !is.na(as.Date(FinalAnalysisDate, format = ""%Y-%m-%d""))"
Comments,Any comments about the particle analysis,particles,Spectra noisy,error,!is.na(Comments) | is.na(Comments)
Polymer,Particle polymer name,particles,Polyethylene,error,"Polymer %in% c(""Polyethylene"", ""Polycarbonate"")"
Morphology,Particle morphology,particles,Sphere,error,"Morphology %in% c(""Fragment"", ""Fiber"", ""Sphere"", ""Rubbery Fragment"")"
Color,Particle color,particles,White,error,"Color %in% c(""Transparent"", ""Blue"", ""Red"", ""Brown"", ""Green"", ""Orange"", ""White"", ""Yellow"", ""Pink"", ""Black"", ""Other"") "
Length,Particle size longest dimension (um),particles,100,error,"in_range(as.numeric(Length), min = 1, max = 10000)"
Width,Particle size shortest dimension (um),particles,100,error,"in_range(as.numeric(Width), min = 1, max = 10000)"
Height,Third particle dimension (um),particles,100,error,"in_range(as.numeric(Height), min = 1, max = 10000)"
Mass,Particle mass (mg),particles,0.1,error,"in_range(as.numeric(Mass), min =  0.0001, max = 10000)"
SurfaceArea,Particle projected surface area (um^3),particles,31415.93,error,"in_range(as.numeric(SurfaceArea), min = 0.0001, max = 1000000)"
Volume,Particle projected volume,particles,10000,error,"in_range(as.numeric(Volume), min = 0.0001, max = 10^12)"
Tactile,Particle tactile features,particles,ridgid,error,"Tactile %in% c(""Ridgid"", ""Rubbery"", ""Squishy"")"
sample_SampleID_fk,"Unique ID for Sample, values must be unique and non missing in this table",samples,23jreh334,error,is_foreign_key(SampleID)
sample_SampleID,"Unique ID for Sample, values must be unique and non missing in this table",samples,23jreh334,error,is_unique(SampleID)
sample_SampleID_blank,"Unique ID for Sample, values must be unique and non missing in this table",samples,23jreh334,error,!is.na(SampleID)
OwnerOrganization,Unique ID for organization who owns the sample,samples,Moore Institute for Plastic Pollution Research,error,!is.na(OwnerOrganization)
AnalysisOrganization,Unique ID for organization who analyzed the sample,samples,Moore Institute for Plastic Pollution Research,error,!is.na(AnalysisOrganization)
ReportingOrganization,Unique ID for organization who reported the sample results,samples,Moore Institute for Plastic Pollution Research,error,!is.na(ReportingOrganization)
Latitude,Latitude of sample in decimal degrees,samples,33.746974,error,"in_range(as.numeric(Latitude), min = -90, max =  90)"
Latitude_blank,Latitude of sample in decimal degrees cannot be blank,samples,33.746974,error,!is.na(Latitude)
Longitude,Longitude of sample in decimal degrees,samples,-118.115372,error,"in_range(as.numeric(Longitude), min = -180, max =  180)"
Longitude_blank,Longitude of sample in decimal degrees,samples,-118.115372,error,!is.na(Longitude)
CollectionDate,Sample Collection Date in Year-Month-Day format,samples,1/30/2023,error,"!is.na(CollectionDate) & !is.na(as.Date(CollectionDate, tryFormats = c(""%Y-%m-%d"", ""%m/%d/%Y"")))"
SampleVolume,"Volume of sample (L), must be between 1 and 1,000,000",samples,100,error,"in_range(as.numeric(SampleVolume), min = 1, max = 1000000)"
SampleVolume_blank,"Volume of sample (L), must be between 1 and 1,000,000 and cannot be blank",samples,100,error,!is.na(SampleVolume)
